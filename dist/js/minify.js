const pokemonRepository=function(){let e=[],t=document.querySelector(".pokemon-list"),n=document.querySelector(".form-control");async function a(){l();try{let e=await fetch("https://pokeapi.co/api/v2/pokemon/?limit=150"),t=await e.json();t.results.forEach(function(e){let t={name:e.name,detailsUrl:e.url};o(t)}),s()}catch(n){console.error(n),s()}}async function i(e){let t=e.detailsUrl;l();try{let n=await fetch(t),a=await n.json();e.height=a.height,e.frontImgUrl=a.sprites.front_default,e.backImgUrl=a.sprites.back_default;let i=[];a.types.forEach(function(e){i.push(e.type.name)}),e.types=i.join(", "),s()}catch(o){console.error(o),s()}}function o(t){"object"==typeof t&&Object.keys(t).includes("detailsUrl")?e.push(t):console.error("Pok\xe9mon has to be added using this format: {name:, detailsUrl:}")}function l(){let e=document.createElement("p");e.innerText="Loading...",e.classList.add("loading-message"),document.body.appendChild(e)}function s(){let e=document.querySelector(".loading-message");document.body.removeChild(e)}function r(){return e}function d(t){return e.filter(function(e){let n=e.name.toLowerCase(),a=t.toLowerCase();return n.startsWith(a)})}function c(e){i(e).then(function(){let n=document.createElement("li");n.classList.add("list-items"),n.classList.add("group-list-item");let a=document.createElement("button");a.innerText=e.name,a.classList.add("button-class"),a.classList.add("btn"),a.setAttribute("data-toggle","modal"),a.setAttribute("data-target",".modal");let i=document.createElement("img");i.src=e.frontImgUrl,i.classList.add("button-pokemonImg"),a.addEventListener("click",function(){m(e),$("#exampleModalCenter").modal("show")}),a.appendChild(i),n.appendChild(a),t.appendChild(n)})}function m(e){i(e).then(function(){let t=document.querySelector(".modal-body"),n=document.querySelector(".modal-title");t.innerHTML="",n.innerHTML="",n.innerText=e.name,n.classList.add("modal-title");let a=document.createElement("p");a.innerText="Height: "+e.height,a.classList.add("modal-height");let i=document.createElement("img");i.src=e.frontImgUrl;let o=document.createElement("img");o.src=e.backImgUrl,i.classList.add("modal-img"),o.classList.add("modal-img");let l=document.createElement("div");l.classList.add("modal-text");let s=document.createElement("p");s.innerText="Types: "+e.types,s.classList.add("modal-types"),t.appendChild(i),t.appendChild(o),t.appendChild(l),l.appendChild(a),l.appendChild(s)})}return n.addEventListener("input",function(){let e=n.ariaValueMax,t=d(e);removeList(),0===t.length?showErrorMessage("Sorry, there are no Pokemon matching your search criteria."):t.forEach(c)}),window.addEventListener("keydown",function(e){"Escape"===e.key&&modalContainer.classList.add("hidden")}),{loadList:a,add:o,loadDetails:i,getAll:r,showDetails:m,addListItem:c,findPokemon:d}}();pokemonRepository.loadList().then(function(){let e=pokemonRepository.getAll();e.forEach(function(e){pokemonRepository.addListItem(e)})});