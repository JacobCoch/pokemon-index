const pokemonRepository=function(){let e=[],t=document.querySelector(".pokemon-list");async function a(){i();try{let e=await fetch("https://pokeapi.co/api/v2/pokemon/?limit=150"),t=await e.json();t.results.forEach(function(e){let t={name:e.name,detailsUrl:e.url};l(t)}),s()}catch(a){console.error(a),s()}}async function n(e){let t=e.detailsUrl;i();try{let a=await fetch(t),n=await a.json();e.height=n.height,e.frontImgUrl=n.sprites.front_default,e.backImgUrl=n.sprites.back_default;let l=[];n.types.forEach(function(e){l.push(e.type.name)}),e.types=l.join(", "),s()}catch(o){console.error(o),s()}}function l(t){"object"==typeof t&&Object.keys(t).includes("detailsUrl")?e.push(t):console.error("Pok\xe9mon has to be added using this format: {name:, detailsUrl:}")}function i(){let e=document.createElement("p");e.innerText="Loading...",e.classList.add("loading-message"),document.body.appendChild(e)}function s(){let e=document.querySelector(".loading-message");document.body.removeChild(e)}function o(){return e}function d(e){n(e).then(function(){let t=document.querySelector(".modal-body"),a=document.querySelector(".modal-title");t.innerHTML="",a.innerHTML="",a.innerText=e.name,a.classList.add("modal-title");let n=document.createElement("p");n.innerText="Height: "+e.height,n.classList.add("modal-height");let l=document.createElement("img");l.src=e.frontImgUrl;let i=document.createElement("img");i.src=e.backImgUrl,l.classList.add("modal-img"),i.classList.add("modal-img");let s=document.createElement("div");s.classList.add("modal-text");let o=document.createElement("p");o.innerText="Types: "+e.types,o.classList.add("modal-types"),t.appendChild(l),t.appendChild(i),t.appendChild(s),s.appendChild(n),s.appendChild(o)})}return window.addEventListener("keydown",function(e){"Escape"===e.key&&modalContainer.classList.add("hidden")}),{loadList:a,add:l,loadDetails:n,getAll:o,showDetails:d,addListItem:function e(a){n(a).then(function(){let e=document.createElement("li");e.classList.add("list-items"),e.classList.add("group-list-item");let n=document.createElement("button");n.innerText=a.name,n.classList.add("button-class"),n.classList.add("btn"),n.setAttribute("data-toggle","modal"),n.setAttribute("data-target",".modal");let l=document.createElement("img");l.src=a.frontImgUrl,l.classList.add("button-pokemonImg"),n.addEventListener("click",function(){d(a),$("#exampleModalCenter").modal("show")}),n.appendChild(l),e.appendChild(n),t.appendChild(e)})}}}();pokemonRepository.loadList().then(function(){let e=pokemonRepository.getAll();e.forEach(function(e){pokemonRepository.addListItem(e)})});