!(function (e, t) { typeof exports === 'object' && typeof module !== 'undefined' ? t(exports) : typeof define === 'function' && define.amd ? define(['exports'], t) : t(e.WHATWGFetch = {}); }(this, (a) => {
  const l = {
    searchParams: 'URLSearchParams' in self, iterable: 'Symbol' in self && 'iterator' in Symbol, blob: 'FileReader' in self && 'Blob' in self && (function () { try { return new Blob(), !0; } catch (e) { return !1; } }()), formData: 'FormData' in self, arrayBuffer: 'ArrayBuffer' in self,
  }; if (l.arrayBuffer) { const w = ['[object Int8Array]', '[object Uint8Array]', '[object Uint8ClampedArray]', '[object Int16Array]', '[object Uint16Array]', '[object Int32Array]', '[object Uint32Array]', '[object Float32Array]', '[object Float64Array]']; var r = ArrayBuffer.isView || function (e) { return e && w.indexOf(Object.prototype.toString.call(e)) > -1; }; } function o(e) { if (typeof e !== 'string' && (e = String(e)), /[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e)) throw new TypeError('Invalid character in header field name'); return e.toLowerCase(); } function n(e) { return e = typeof e !== 'string' ? String(e) : e; } function e(t) { const e = { next() { const e = t.shift(); return { done: void 0 === e, value: e }; } }; return l.iterable && (e[Symbol.iterator] = function () { return e; }), e; } function c(t) { this.map = {}, t instanceof c ? t.forEach(function (e, t) { this.append(t, e); }, this) : Array.isArray(t) ? t.forEach(function (e) { this.append(e[0], e[1]); }, this) : t && Object.getOwnPropertyNames(t).forEach(function (e) { this.append(e, t[e]); }, this); } function i(e) { if (e.bodyUsed) return Promise.reject(new TypeError('Already read')); e.bodyUsed = !0; } function s(r) { return new Promise((e, t) => { r.onload = function () { e(r.result); }, r.onerror = function () { t(r.error); }; }); } function t(e) {
    const t = new FileReader(); const
      r = s(t); return t.readAsArrayBuffer(e), r;
  } function d(e) { let t; return e.slice ? e.slice(0) : ((t = new Uint8Array(e.byteLength)).set(new Uint8Array(e)), t.buffer); } function u() { return this.bodyUsed = !1, this._initBody = function (e) { let t; (this._bodyInit = e) ? typeof e === 'string' ? this._bodyText = e : l.blob && Blob.prototype.isPrototypeOf(e) ? this._bodyBlob = e : l.formData && FormData.prototype.isPrototypeOf(e) ? this._bodyFormData = e : l.searchParams && URLSearchParams.prototype.isPrototypeOf(e) ? this._bodyText = e.toString() : l.arrayBuffer && l.blob && (t = e) && DataView.prototype.isPrototypeOf(t) ? (this._bodyArrayBuffer = d(e.buffer), this._bodyInit = new Blob([this._bodyArrayBuffer])) : l.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(e) || r(e)) ? this._bodyArrayBuffer = d(e) : this._bodyText = e = Object.prototype.toString.call(e) : this._bodyText = '', this.headers.get('content-type') || (typeof e === 'string' ? this.headers.set('content-type', 'text/plain;charset=UTF-8') : this._bodyBlob && this._bodyBlob.type ? this.headers.set('content-type', this._bodyBlob.type) : l.searchParams && URLSearchParams.prototype.isPrototypeOf(e) && this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')); }, l.blob && (this.blob = function () { const e = i(this); if (e) return e; if (this._bodyBlob) return Promise.resolve(this._bodyBlob); if (this._bodyArrayBuffer) return Promise.resolve(new Blob([this._bodyArrayBuffer])); if (this._bodyFormData) throw new Error('could not read FormData body as blob'); return Promise.resolve(new Blob([this._bodyText])); }, this.arrayBuffer = function () { return this._bodyArrayBuffer ? i(this) || Promise.resolve(this._bodyArrayBuffer) : this.blob().then(t); }), this.text = function () { let e; let t; let r = i(this); if (r) return r; if (this._bodyBlob) return r = this._bodyBlob, e = new FileReader(), t = s(e), e.readAsText(r), t; if (this._bodyArrayBuffer) return Promise.resolve(function (e) { const t = new Uint8Array(e); const r = new Array(t.length); for (let e = 0; e < t.length; e++)r[e] = String.fromCharCode(t[e]); return r.join(''); }(this._bodyArrayBuffer)); if (this._bodyFormData) throw new Error('could not read FormData body as text'); return Promise.resolve(this._bodyText); }, l.formData && (this.formData = function () { return this.text().then(p); }), this.json = function () { return this.text().then(JSON.parse); }, this; }c.prototype.append = function (e, t) { e = o(e), t = n(t); const r = this.map[e]; this.map[e] = r ? `${r}, ${t}` : t; }, c.prototype.delete = function (e) { delete this.map[o(e)]; }, c.prototype.get = function (e) { return e = o(e), this.has(e) ? this.map[e] : null; }, c.prototype.has = function (e) { return this.map.hasOwnProperty(o(e)); }, c.prototype.set = function (e, t) { this.map[o(e)] = n(t); }, c.prototype.forEach = function (e, t) { for (const r in this.map) this.map.hasOwnProperty(r) && e.call(t, this.map[r], r, this); }, c.prototype.keys = function () { const r = []; return this.forEach((e, t) => { r.push(t); }), e(r); }, c.prototype.values = function () { const t = []; return this.forEach((e) => { t.push(e); }), e(t); }, c.prototype.entries = function () { const r = []; return this.forEach((e, t) => { r.push([t, e]); }), e(r); }, l.iterable && (c.prototype[Symbol.iterator] = c.prototype.entries); const f = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']; function h(e, t) { let r = (t = t || {}).body; if (e instanceof h) { if (e.bodyUsed) throw new TypeError('Already read'); this.url = e.url, this.credentials = e.credentials, t.headers || (this.headers = new c(e.headers)), this.method = e.method, this.mode = e.mode, this.signal = e.signal, r || e._bodyInit == null || (r = e._bodyInit, e.bodyUsed = !0); } else this.url = String(e); let o; if (this.credentials = t.credentials || this.credentials || 'same-origin', !t.headers && this.headers || (this.headers = new c(t.headers)), this.method = (e = t.method || this.method || 'GET', o = e.toUpperCase(), f.indexOf(o) > -1 ? o : e), this.mode = t.mode || this.mode || null, this.signal = t.signal || this.signal, this.referrer = null, (this.method === 'GET' || this.method === 'HEAD') && r) throw new TypeError('Body not allowed for GET or HEAD requests'); this._initBody(r); } function p(e) { const r = new FormData(); return e.trim().split('&').forEach((e) => { let t; e && (t = (e = e.split('=')).shift().replace(/\+/g, ' '), e = e.join('=').replace(/\+/g, ' '), r.append(decodeURIComponent(t), decodeURIComponent(e))); }), r; } function y(e, t) { t = t || {}, this.type = 'default', this.status = void 0 === t.status ? 200 : t.status, this.ok = this.status >= 200 && this.status < 300, this.statusText = 'statusText' in t ? t.statusText : 'OK', this.headers = new c(t.headers), this.url = t.url || '', this._initBody(e); }h.prototype.clone = function () { return new h(this, { body: this._bodyInit }); }, u.call(h.prototype), u.call(y.prototype), y.prototype.clone = function () {
    return new y(this._bodyInit, {
      status: this.status, statusText: this.statusText, headers: new c(this.headers), url: this.url,
    });
  }, y.error = function () { const e = new y(null, { status: 0, statusText: '' }); return e.type = 'error', e; }; const m = [301, 302, 303, 307, 308]; y.redirect = function (e, t) { if (m.indexOf(t) === -1) throw new RangeError('Invalid status code'); return new y(null, { status: t, headers: { location: e } }); }, a.DOMException = self.DOMException; try { new a.DOMException(); } catch (e) { a.DOMException = function (e, t) { this.message = e, this.name = t; t = Error(e); this.stack = t.stack; }, a.DOMException.prototype = Object.create(Error.prototype), a.DOMException.prototype.constructor = a.DOMException; } function b(i, s) { return new Promise((r, e) => { const t = new h(i, s); if (t.signal && t.signal.aborted) return e(new a.DOMException('Aborted', 'AbortError')); const o = new XMLHttpRequest(); function n() { o.abort(); }o.onload = function () { const e = { status: o.status, statusText: o.statusText, headers: (function (e) { const r = new c(); return e.replace(/\r?\n[\t ]+/g, ' ').split(/\r?\n/).forEach((e) => { var e = e.split(':'); const t = e.shift().trim(); t && (e = e.join(':').trim(), r.append(t, e)); }), r; }(o.getAllResponseHeaders() || '')) }; const t = (e.url = 'responseURL' in o ? o.responseURL : e.headers.get('X-Request-URL'), 'response' in o ? o.response : o.responseText); r(new y(t, e)); }, o.onerror = function () { e(new TypeError('Network request failed')); }, o.ontimeout = function () { e(new TypeError('Network request failed')); }, o.onabort = function () { e(new a.DOMException('Aborted', 'AbortError')); }, o.open(t.method, t.url, !0), t.credentials === 'include' ? o.withCredentials = !0 : t.credentials === 'omit' && (o.withCredentials = !1), 'responseType' in o && l.blob && (o.responseType = 'blob'), t.headers.forEach((e, t) => { o.setRequestHeader(t, e); }), t.signal && (t.signal.addEventListener('abort', n), o.onreadystatechange = function () { o.readyState === 4 && t.signal.removeEventListener('abort', n); }), o.send(void 0 === t._bodyInit ? null : t._bodyInit); }); }b.polyfill = !0, self.fetch || (self.fetch = b, self.Headers = c, self.Request = h, self.Response = y), a.Headers = c, a.Request = h, a.Response = y, a.fetch = b, Object.defineProperty(a, '__esModule', { value: !0 });
})), (function (e) { (typeof exports !== 'object' || typeof module === 'undefined') && typeof define === 'function' && define.amd ? define(e) : e(); }(() => { function e(t) { const r = this.constructor; return this.then((e) => r.resolve(t()).then(() => e), (e) => r.resolve(t()).then(() => r.reject(e))); } function t(r) { return new this((n, e) => { if (!r || void 0 === r.length) return e(new TypeError(`${typeof r} ${r} is not iterable(cannot read property Symbol(Symbol.iterator))`)); const i = Array.prototype.slice.call(r); if (i.length === 0) return n([]); for (var s = i.length, t = 0; i.length > t; t++)!(function t(r, e) { if (e && (typeof e === 'object' || typeof e === 'function')) { const o = e.then; if (typeof o === 'function') return o.call(e, (e) => { t(r, e); }, (e) => { i[r] = { status: 'rejected', reason: e }, --s == 0 && n(i); }); }i[r] = { status: 'fulfilled', value: e }, --s == 0 && n(i); }(t, i[t])); }); } function l(e) { return e && void 0 !== e.length; } function r() {} function i(e) { if (!(this instanceof i)) throw new TypeError('Promises must be constructed via new'); if (typeof e !== 'function') throw new TypeError('not a function'); this._state = 0, this._handled = !1, this._value = void 0, this._deferreds = [], d(e, this); } function n(r, o) { for (;r._state === 3;)r = r._value; r._state !== 0 ? (r._handled = !0, i._immediateFn(() => { const t = r._state === 1 ? o.onFulfilled : o.onRejected; if (t !== null) { let e; try { e = t(r._value); } catch (e) { return void a(o.promise, e); }s(o.promise, e); } else (r._state === 1 ? s : a)(o.promise, r._value); })) : r._deferreds.push(o); } function s(t, e) { try { if (e === t) throw new TypeError('A promise cannot be resolved with itself.'); if (e && (typeof e === 'object' || typeof e === 'function')) { const r = e.then; if (e instanceof i) return t._state = 3, t._value = e, c(t); if (typeof r === 'function') return d((o = r, n = e, function () { o.apply(n, arguments); }), t); }t._state = 1, t._value = e, c(t); } catch (e) { a(t, e); } let o; let n; } function a(e, t) { e._state = 2, e._value = t, c(e); } function c(r) { r._state === 2 && r._deferreds.length === 0 && i._immediateFn(() => { r._handled || i._unhandledRejectionFn(r._value); }); for (let e = 0, t = r._deferreds.length; t > e; e++)n(r, r._deferreds[e]); r._deferreds = null; } function d(e, t) { let r = !1; try { e((e) => { r || (r = !0, s(t, e)); }, (e) => { r || (r = !0, a(t, e)); }); } catch (e) { r || (r = !0, a(t, e)); } } const o = setTimeout; i.prototype.catch = function (e) { return this.then(null, e); }, i.prototype.then = function (o, e) { const t = new this.constructor(r); return n(this, new function (e, t, r) { this.onFulfilled = typeof o === 'function' ? o : null, this.onRejected = typeof t === 'function' ? t : null, this.promise = r; }(0, e, t)), t; }, i.prototype.finally = e, i.all = function (t) { return new i((n, i) => { if (!l(t)) return i(new TypeError('Promise.all accepts an array')); const s = Array.prototype.slice.call(t); if (s.length === 0) return n([]); for (var a = s.length, e = 0; s.length > e; e++)!(function t(r, e) { try { if (e && (typeof e === 'object' || typeof e === 'function')) { const o = e.then; if (typeof o === 'function') return o.call(e, (e) => { t(r, e); }, i); }s[r] = e, --a == 0 && n(s); } catch (e) { i(e); } }(e, s[e])); }); }, i.allSettled = t, i.resolve = function (t) { return t && typeof t === 'object' && t.constructor === i ? t : new i((e) => { e(t); }); }, i.reject = function (r) { return new i((e, t) => { t(r); }); }, i.race = function (n) { return new i((r, o) => { if (!l(n)) return o(new TypeError('Promise.race accepts an array')); for (let e = 0, t = n.length; t > e; e++)i.resolve(n[e]).then(r, o); }); }, i._immediateFn = typeof setImmediate === 'function' ? function (e) { setImmediate(e); } : function (e) { o(e, 0); }, i._unhandledRejectionFn = function (e) { void 0 !== console && console && console.warn('Possible Unhandled Promise Rejection:', e); }; const u = (function () { if (typeof self !== 'undefined') return self; if (typeof window !== 'undefined') return window; if (typeof global !== 'undefined') return global; throw Error('unable to locate global object'); }()); typeof u.Promise !== 'function' ? u.Promise = i : (u.Promise.prototype.finally || (u.Promise.prototype.finally = e), u.Promise.allSettled || (u.Promise.allSettled = t)); })); const pokemonRepository = (() => {
  const r = []; const n = document.querySelector('.pokemon-list'); const o = document.querySelector('.form-control'); async function e(e) { const t = e.detailsUrl; try { const r = await (await fetch(t)).json(); e.height = r.height, e.frontImgUrl = r.sprites.front_default, e.backImgUrl = r.sprites.back_default; const o = []; r.types.forEach((e) => { o.push(e.type.name); }), e.types = o.join(', '); } catch (e) { console.error(e); } } function i(e) { typeof e === 'object' && Object.keys(e).includes('name') && Object.keys(e).includes('detailsUrl') ? r.push(e) : console.error('PokÃ©mon has to be added using this format: {name:, detailsUrl:}'); } function s() { const e = document.querySelector('.loading-message'); e.parentNode.removeChild(e); } function a(s) { e(s).then(() => { const e = document.querySelector('.modal-body'); var t = document.querySelector('.modal-title'); var t = (e.innerHTML = '', t.innerHTML = '', t.innerText = s.name, t.classList.add('modal-title'), document.createElement('p')); const r = (t.textContent = `Height: ${s.height}`, t.classList.add('modal-height'), document.createElement('img')); const o = (r.src = s.frontImgUrl, document.createElement('img')); const n = (o.src = s.backImgUrl, r.classList.add('modal-img'), o.classList.add('modal-img'), document.createElement('div')); const i = (n.classList.add('modal-text'), document.createElement('p')); i.textContent = `Types: ${s.types}`, i.classList.add('modal-types'), e.appendChild(r), e.appendChild(o), e.appendChild(n), n.appendChild(t), n.appendChild(i); }); } function l(o) { e(o).then(() => { const e = document.createElement('li'); const t = (e.classList.add('list-items'), e.classList.add('group-list-item'), document.createElement('button')); const r = (t.innerText = o.name, t.classList.add('button-class'), t.classList.add('btn'), t.setAttribute('data-toggle', 'modal'), t.setAttribute('data-target', '.modal'), document.createElement('img')); r.src = o.frontImgUrl, r.classList.add('button-pokemonImg'), t.addEventListener('click', () => { a(o), $('#exampleModalCenter').modal('show'); }), t.appendChild(r), e.appendChild(t), n.appendChild(e); }); } return o.addEventListener('input', () => { const t = o.value.toLowerCase(); const e = r.filter((e) => e.name.toLowerCase().includes(t)); n.innerHTML = '', e.forEach((e) => l(e)); }), {
    async fetchPokemonList() { let e; let t; (e = document.createElement('div')).classList.add('loading-message'), (t = document.querySelector('.form-inline')).parentNode.insertBefore(e, t); try { (await (await fetch('https://pokeapi.co/api/v2/pokemon/?limit=150')).json()).results.forEach((e) => { i({ name: e.name, detailsUrl: e.url }); }), s(); } catch (e) { console.error(e), s(); } }, addPokemon: i, fetchPokemonDetails: e, getPokemonList() { return r; }, showDetails: a, addPokemonToList: l,
  };
})(); pokemonRepository.fetchPokemonList().then(() => { pokemonRepository.getPokemonList().forEach((e) => { pokemonRepository.addPokemonToList(e); }); });
// # sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZldGNoLXBvbHlmaWxsLmpzIiwicHJvbWlzZS1wb2x5ZmlsbC5qcyIsInNjcmlwdHMuanMiXSwibmFtZXMiOlsiZ2xvYmFsIiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJXSEFUV0dGZXRjaCIsInRoaXMiLCJzdXBwb3J0Iiwic2VhcmNoUGFyYW1zIiwic2VsZiIsIml0ZXJhYmxlIiwiU3ltYm9sIiwiYmxvYiIsIkJsb2IiLCJlIiwiZm9ybURhdGEiLCJhcnJheUJ1ZmZlciIsInZpZXdDbGFzc2VzIiwiaXNBcnJheUJ1ZmZlclZpZXciLCJBcnJheUJ1ZmZlciIsImlzVmlldyIsIm9iaiIsImluZGV4T2YiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImNhbGwiLCJub3JtYWxpemVOYW1lIiwibmFtZSIsIlN0cmluZyIsInRlc3QiLCJUeXBlRXJyb3IiLCJ0b0xvd2VyQ2FzZSIsIm5vcm1hbGl6ZVZhbHVlIiwidmFsdWUiLCJpdGVyYXRvckZvciIsIml0ZW1zIiwiaXRlcmF0b3IiLCJuZXh0Iiwic2hpZnQiLCJkb25lIiwidW5kZWZpbmVkIiwiSGVhZGVycyIsImhlYWRlcnMiLCJtYXAiLCJmb3JFYWNoIiwiYXBwZW5kIiwiQXJyYXkiLCJpc0FycmF5IiwiaGVhZGVyIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImNvbnN1bWVkIiwiYm9keSIsImJvZHlVc2VkIiwiUHJvbWlzZSIsInJlamVjdCIsImZpbGVSZWFkZXJSZWFkeSIsInJlYWRlciIsInJlc29sdmUiLCJvbmxvYWQiLCJyZXN1bHQiLCJvbmVycm9yIiwiZXJyb3IiLCJyZWFkQmxvYkFzQXJyYXlCdWZmZXIiLCJGaWxlUmVhZGVyIiwicHJvbWlzZSIsInJlYWRBc0FycmF5QnVmZmVyIiwiYnVmZmVyQ2xvbmUiLCJidWYiLCJ2aWV3Iiwic2xpY2UiLCJVaW50OEFycmF5IiwiYnl0ZUxlbmd0aCIsInNldCIsImJ1ZmZlciIsIkJvZHkiLCJfaW5pdEJvZHkiLCJfYm9keUluaXQiLCJfYm9keVRleHQiLCJpc1Byb3RvdHlwZU9mIiwiX2JvZHlCbG9iIiwiRm9ybURhdGEiLCJfYm9keUZvcm1EYXRhIiwiVVJMU2VhcmNoUGFyYW1zIiwiRGF0YVZpZXciLCJfYm9keUFycmF5QnVmZmVyIiwiZ2V0IiwidHlwZSIsInJlamVjdGVkIiwiRXJyb3IiLCJ0aGVuIiwidGV4dCIsInJlYWRBc1RleHQiLCJjaGFycyIsImxlbmd0aCIsImxldCIsImkiLCJmcm9tQ2hhckNvZGUiLCJqb2luIiwiZGVjb2RlIiwianNvbiIsIkpTT04iLCJwYXJzZSIsIm9sZFZhbHVlIiwiZGVsZXRlIiwiaGFzIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsYmFjayIsInRoaXNBcmciLCJrZXlzIiwicHVzaCIsInZhbHVlcyIsImVudHJpZXMiLCJtZXRob2RzIiwiUmVxdWVzdCIsImlucHV0Iiwib3B0aW9ucyIsInVybCIsImNyZWRlbnRpYWxzIiwibWV0aG9kIiwibW9kZSIsInNpZ25hbCIsInVwY2FzZWQiLCJ0b1VwcGVyQ2FzZSIsInJlZmVycmVyIiwiZm9ybSIsInRyaW0iLCJzcGxpdCIsImJ5dGVzIiwicmVwbGFjZSIsImRlY29kZVVSSUNvbXBvbmVudCIsIlJlc3BvbnNlIiwiYm9keUluaXQiLCJzdGF0dXMiLCJvayIsInN0YXR1c1RleHQiLCJjbG9uZSIsInJlc3BvbnNlIiwicmVkaXJlY3RTdGF0dXNlcyIsInJlZGlyZWN0IiwiUmFuZ2VFcnJvciIsImxvY2F0aW9uIiwiRE9NRXhjZXB0aW9uIiwiZXJyIiwibWVzc2FnZSIsInN0YWNrIiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJmZXRjaCIsImluaXQiLCJyZXF1ZXN0IiwiYWJvcnRlZCIsInhociIsIlhNTEh0dHBSZXF1ZXN0IiwiYWJvcnRYaHIiLCJhYm9ydCIsInJhd0hlYWRlcnMiLCJwYXJ0cyIsImxpbmUiLCJrZXkiLCJnZXRBbGxSZXNwb25zZUhlYWRlcnMiLCJyZXNwb25zZVVSTCIsInJlc3BvbnNlVGV4dCIsIm9udGltZW91dCIsIm9uYWJvcnQiLCJvcGVuIiwid2l0aENyZWRlbnRpYWxzIiwicmVzcG9uc2VUeXBlIiwic2V0UmVxdWVzdEhlYWRlciIsImFkZEV2ZW50TGlzdGVuZXIiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNlbmQiLCJwb2x5ZmlsbCIsImRlZmluZVByb3BlcnR5IiwidCIsIm4iLCJyIiwiZiIsIm8iLCJyZWFzb24iLCJfc3RhdGUiLCJfaGFuZGxlZCIsIl92YWx1ZSIsIl9kZWZlcnJlZHMiLCJsIiwiX2ltbWVkaWF0ZUZuIiwib25GdWxmaWxsZWQiLCJvblJlamVjdGVkIiwidSIsImMiLCJhcHBseSIsImFyZ3VtZW50cyIsIl91bmhhbmRsZWRSZWplY3Rpb25GbiIsImEiLCJzZXRUaW1lb3V0IiwiY2F0Y2giLCJmaW5hbGx5IiwiYWxsIiwiYWxsU2V0dGxlZCIsInJhY2UiLCJzZXRJbW1lZGlhdGUiLCJjb25zb2xlIiwid2FybiIsInMiLCJ3aW5kb3ciLCJwb2tlbW9uUmVwb3NpdG9yeSIsInBva2Vtb25MaXN0IiwicG9rZW1vbkxpc3RDb250YWluZXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJzZWFyY2hJbnB1dCIsImFzeW5jIiwiZmV0Y2hQb2tlbW9uRGV0YWlscyIsInBva2Vtb24iLCJkZXRhaWxzVXJsIiwiZGV0YWlscyIsImF3YWl0IiwiaGVpZ2h0IiwiZnJvbnRJbWdVcmwiLCJzcHJpdGVzIiwiZnJvbnRfZGVmYXVsdCIsImJhY2tJbWdVcmwiLCJiYWNrX2RlZmF1bHQiLCJwb2tlbW9uVHlwZUxpc3QiLCJ0eXBlcyIsIml0ZW0iLCJhZGRQb2tlbW9uIiwiaW5jbHVkZXMiLCJoaWRlTG9hZGluZ01lc3NhZ2UiLCJsb2FkaW5nTWVzc2FnZSIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInNob3dEZXRhaWxzIiwibW9kYWxCb2R5IiwibW9kYWxUaXRsZSIsImlubmVySFRNTCIsImlubmVyVGV4dCIsImNsYXNzTGlzdCIsImFkZCIsImNyZWF0ZUVsZW1lbnQiLCJmcm9udEltZyIsInRleHRDb250ZW50IiwiYmFja0ltZyIsInNyYyIsIm1vZGFsVGV4dCIsImFwcGVuZENoaWxkIiwiYWRkUG9rZW1vblRvTGlzdCIsImxpc3RJdGVtcyIsImJ1dHRvbiIsInBva2Vtb25JbWciLCJzZXRBdHRyaWJ1dGUiLCIkIiwibW9kYWwiLCJzZWFyY2hWYWx1ZSIsImZpbHRlcmVkUG9rZW1vbiIsImZpbHRlciIsImZldGNoUG9rZW1vbkxpc3QiLCJzZWFyY2hGb3JtIiwiaW5zZXJ0QmVmb3JlIiwicmVzdWx0cyIsImdldFBva2Vtb25MaXN0Il0sIm1hcHBpbmdzIjoiQUFBQSxDQUFBLFNBQUFBLEVBQUFDLEdBQ0EsVUFBQSxPQUFBQyxTQUFBLGFBQUEsT0FBQUMsT0FBQUYsRUFBQUMsT0FBQSxFQUNBLFlBQUEsT0FBQUUsUUFBQUEsT0FBQUMsSUFBQUQsT0FBQSxDQUFBLFdBQUFILENBQUEsRUFDQUEsRUFBQUQsRUFBQU0sWUFBQSxFQUFBLENBQ0EsRUFBQUMsS0FBQSxJQUNBLE1BQUFDLEVBQUEsQ0FDQUMsYUFBQSxvQkFBQUMsS0FDQUMsU0FBQSxXQUFBRCxNQUFBLGFBQUFFLE9BQ0FDLEtBQ0EsZUFBQUgsTUFDQSxTQUFBQSxNQUNBLFdBQ0EsSUFFQSxPQURBLElBQUFJLEtBQ0EsQ0FBQSxDQUdBLENBRkEsTUFBQUMsR0FDQSxNQUFBLENBQUEsQ0FDQSxDQUNBLEVBQUEsRUFDQUMsU0FBQSxhQUFBTixLQUNBTyxZQUFBLGdCQUFBUCxJQUNBLEVBTUEsR0FBQUYsRUFBQVMsWUFBQSxDQUNBLE1BQUFDLEVBQUEsQ0FDQSxxQkFDQSxzQkFDQSw2QkFDQSxzQkFDQSx1QkFDQSxzQkFDQSx1QkFDQSx3QkFDQSx5QkFHQSxJQUFBQyxFQUFBQyxZQUFBQyxRQUNBLFNBQUFDLEdBQ0EsT0FBQUEsR0FBQSxDQUFBLEVBQUFKLEVBQUFLLFFBQUFDLE9BQUFDLFVBQUFDLFNBQUFDLEtBQUFMLENBQUEsQ0FBQSxDQUNBLENBQ0EsQ0FFQSxTQUFB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RUE0QixhQUFBN0IsRUFBQTRCLENBQUEsRUErQ0EsS0FFQXpDLE1BREFBLE1BQUF0RSxNQTVGQSw4Q0E0RkEsR0FDQWhELEtBQUEsR0FDQWlLLFFBQUF4TixRQUFBLElBS0F1TCxFQUpBLENBQ0F4TSxLQUFBdU0sRUFBQXZNLEtBQ0E0TCxXQUFBVyxFQUFBOUcsR0FDQSxDQUNBLENBQ0EsQ0FBQSxFQUNBaUgsRUFBQSxDQUlBLENBSEEsTUFBQXhOLEdBQ0E2TCxRQUFBN0ksTUFBQWhELENBQUEsRUFDQXdOLEVBQUEsQ0FDQSxDQUNBLEVBNENBRixXQUFBQSxFQUNBZCxvQkFBQUEsRUFDQWdELGVBNUNBLFdBQ0EsT0FBQXRELENBQ0EsRUEyQ0EwQixZQUFBQSxFQUNBYyxpQkFBQUEsQ0FDQSxDQUNBLEdBQUEsRUFFQXpDLGtCQUFBbUQsaUJBQUEsRUFBQXhLLEtBQUEsS0FDQXFILGtCQUFBdUQsZUFBQSxFQUNBek4sUUFBQSxJQUNBa0ssa0JBQUF5QyxpQkFBQWpDLENBQUEsQ0FDQSxDQUFBLENBQ0EsQ0FBQSIsImZpbGUiOiJhbGwuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBmYWN0b3J5KGV4cG9ydHMpXG4gICAgOiB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoWydleHBvcnRzJ10sIGZhY3RvcnkpXG4gICAgICA6IChmYWN0b3J5KChnbG9iYWwuV0hBVFdHRmV0Y2ggPSB7fSkpKTtcbn0odGhpcywgKChleHBvcnRzKSA9PiB7XG4gIGNvbnN0IHN1cHBvcnQgPSB7XG4gICAgc2VhcmNoUGFyYW1zOiAnVVJMU2VhcmNoUGFyYW1zJyBpbiBzZWxmLFxuICAgIGl0ZXJhYmxlOiAnU3ltYm9sJyBpbiBzZWxmICYmICdpdGVyYXRvcicgaW4gU3ltYm9sLFxuICAgIGJsb2I6XG4gICAgICAgICdGaWxlUmVhZGVyJyBpbiBzZWxmXG4gICAgICAgICYmICdCbG9iJyBpbiBzZWxmXG4gICAgICAgICYmIChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG5ldyBCbG9iKCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9KCkpLFxuICAgIGZvcm1EYXRhOiAnRm9ybURhdGEnIGluIHNlbGYsXG4gICAgYXJyYXlCdWZmZXI6ICdBcnJheUJ1ZmZlcicgaW4gc2VsZixcbiAgfTtcblxuICBmdW5jdGlvbiBpc0RhdGFWaWV3KG9iaikge1xuICAgIHJldHVybiBvYmogJiYgRGF0YVZpZXcucHJvdG90eXBlLmlzUHJvdG90eXBlT2Yob2JqKTtcbiAgfVxuXG4gIGlmIChzdXBwb3J0LmFycmF5QnVmZmVyKSB7XG4gICAgY29uc3Qgdmlld0NsYXNzZXMgPSBbXG4gICAgICAnW29iamVjdCBJbnQ4QXJyYXldJyxcbiAgICAgICdbb2JqZWN0IFVpbnQ4QXJyYXldJyxcbiAgICAgICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScsXG4gICAgICAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgICAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgSW50MzJBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgVWludDMyQXJyYXldJyxcbiAgICAgICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgRmxvYXQ2NEFycmF5XScsXG4gICAgXTtcblxuICAgIHZhciBpc0FycmF5QnVmZmVyVmlldyA9IEFycmF5QnVmZmVyLmlzVmlld1xuICAgICAgICB8fCBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgcmV0dXJuIG9iaiAmJiB2aWV3Q2xhc3Nlcy5pbmRleE9mKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopKSA+IC0xO1xuICAgICAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplTmFtZShuYW1lKSB7XG4gICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykge1xuICAgICAgbmFtZSA9IFN0cmluZyhuYW1lKTtcbiAgICB9XG4gICAgaWYgKC9bXmEtejAtOVxcLSMkJSYnKisuXl9gfH5dL2kudGVzdChuYW1lKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBjaGFyYWN0ZXIgaW4gaGVhZGVyIGZpZWxkIG5hbWUnKTtcbiAgICB9XG4gICAgcmV0dXJuIG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZVZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHZhbHVlID0gU3RyaW5nKHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgLy8gQnVpbGQgYSBkZXN0cnVjdGl2ZSBpdGVyYXRvciBmb3IgdGhlIHZhbHVlIGxpc3RcbiAgZnVuY3Rpb24gaXRlcmF0b3JGb3IoaXRlbXMpIHtcbiAgICBjb25zdCBpdGVyYXRvciA9IHtcbiAgICAgIG5leHQoKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gaXRlbXMuc2hpZnQoKTtcbiAgICAgICAgcmV0dXJuIHsgZG9uZTogdmFsdWUgPT09IHVuZGVmaW5lZCwgdmFsdWUgfTtcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIGlmIChzdXBwb3J0Lml0ZXJhYmxlKSB7XG4gICAgICBpdGVyYXRvcltTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3I7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBpdGVyYXRvcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIEhlYWRlcnMoaGVhZGVycykge1xuICAgIHRoaXMubWFwID0ge307XG5cbiAgICBpZiAoaGVhZGVycyBpbnN0YW5jZW9mIEhlYWRlcnMpIHtcbiAgICAgIGhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIG5hbWUpIHtcbiAgICAgICAgdGhpcy5hcHBlbmQobmFtZSwgdmFsdWUpO1xuICAgICAgfSwgdGhpcyk7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGhlYWRlcnMpKSB7XG4gICAgICBoZWFkZXJzLmZvckVhY2goZnVuY3Rpb24gKGhlYWRlcikge1xuICAgICAgICB0aGlzLmFwcGVuZChoZWFkZXJbMF0sIGhlYWRlclsxXSk7XG4gICAgICB9LCB0aGlzKTtcbiAgICB9IGVsc2UgaWYgKGhlYWRlcnMpIHtcbiAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGhlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgdGhpcy5hcHBlbmQobmFtZSwgaGVhZGVyc1tuYW1lXSk7XG4gICAgICB9LCB0aGlzKTtcbiAgICB9XG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICBuYW1lID0gbm9ybWFsaXplTmFtZShuYW1lKTtcbiAgICB2YWx1ZSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKTtcbiAgICBjb25zdCBvbGRWYWx1ZSA9IHRoaXMubWFwW25hbWVdO1xuICAgIHRoaXMubWFwW25hbWVdID0gb2xkVmFsdWUgPyBgJHtvbGRWYWx1ZX0sICR7dmFsdWV9YCA6IHZhbHVlO1xuICB9O1xuXG4gIEhlYWRlcnMucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgZGVsZXRlIHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldO1xuICB9O1xuXG4gIEhlYWRlcnMucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSk7XG4gICAgcmV0dXJuIHRoaXMuaGFzKG5hbWUpID8gdGhpcy5tYXBbbmFtZV0gOiBudWxsO1xuICB9O1xuXG4gIEhlYWRlcnMucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwLmhhc093blByb3BlcnR5KG5vcm1hbGl6ZU5hbWUobmFtZSkpO1xuICB9O1xuXG4gIEhlYWRlcnMucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuICAgIHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldID0gbm9ybWFsaXplVmFsdWUodmFsdWUpO1xuICB9O1xuXG4gIEhlYWRlcnMucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICBmb3IgKGNvbnN0IG5hbWUgaW4gdGhpcy5tYXApIHtcbiAgICAgIGlmICh0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHRoaXMubWFwW25hbWVdLCBuYW1lLCB0aGlzKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgSGVhZGVycy5wcm90b3R5cGUua2V5cyA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBpdGVtcyA9IFtdO1xuICAgIHRoaXMuZm9yRWFjaCgodmFsdWUsIG5hbWUpID0+IHtcbiAgICAgIGl0ZW1zLnB1c2gobmFtZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKTtcbiAgfTtcblxuICBIZWFkZXJzLnByb3RvdHlwZS52YWx1ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgaXRlbXMgPSBbXTtcbiAgICB0aGlzLmZvckVhY2goKHZhbHVlKSA9PiB7XG4gICAgICBpdGVtcy5wdXNoKHZhbHVlKTtcbiAgICB9KTtcbiAgICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpO1xuICB9O1xuXG4gIEhlYWRlcnMucHJvdG90eXBlLmVudHJpZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgaXRlbXMgPSBbXTtcbiAgICB0aGlzLmZvckVhY2goKHZhbHVlLCBuYW1lKSA9PiB7XG4gICAgICBpdGVtcy5wdXNoKFtuYW1lLCB2YWx1ZV0pO1xuICAgIH0pO1xuICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcyk7XG4gIH07XG5cbiAgaWYgKHN1cHBvcnQuaXRlcmFibGUpIHtcbiAgICBIZWFkZXJzLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gSGVhZGVycy5wcm90b3R5cGUuZW50cmllcztcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbnN1bWVkKGJvZHkpIHtcbiAgICBpZiAoYm9keS5ib2R5VXNlZCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBUeXBlRXJyb3IoJ0FscmVhZHkgcmVhZCcpKTtcbiAgICB9XG4gICAgYm9keS5ib2R5VXNlZCA9IHRydWU7XG4gIH1cblxuICBmdW5jdGlvbiBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJlc29sdmUocmVhZGVyLnJlc3VsdCk7XG4gICAgICB9O1xuICAgICAgcmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJlamVjdChyZWFkZXIuZXJyb3IpO1xuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRCbG9iQXNBcnJheUJ1ZmZlcihibG9iKSB7XG4gICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICBjb25zdCBwcm9taXNlID0gZmlsZVJlYWRlclJlYWR5KHJlYWRlcik7XG4gICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGJsb2IpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVhZEJsb2JBc1RleHQoYmxvYikge1xuICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgY29uc3QgcHJvbWlzZSA9IGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpO1xuICAgIHJlYWRlci5yZWFkQXNUZXh0KGJsb2IpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVhZEFycmF5QnVmZmVyQXNUZXh0KGJ1Zikge1xuICAgIGNvbnN0IHZpZXcgPSBuZXcgVWludDhBcnJheShidWYpO1xuICAgIGNvbnN0IGNoYXJzID0gbmV3IEFycmF5KHZpZXcubGVuZ3RoKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmlldy5sZW5ndGg7IGkrKykge1xuICAgICAgY2hhcnNbaV0gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHZpZXdbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gY2hhcnMuam9pbignJyk7XG4gIH1cblxuICBmdW5jdGlvbiBidWZmZXJDbG9uZShidWYpIHtcbiAgICBpZiAoYnVmLnNsaWNlKSB7XG4gICAgICByZXR1cm4gYnVmLnNsaWNlKDApO1xuICAgIH1cbiAgICBjb25zdCB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmLmJ5dGVMZW5ndGgpO1xuICAgIHZpZXcuc2V0KG5ldyBVaW50OEFycmF5KGJ1ZikpO1xuICAgIHJldHVybiB2aWV3LmJ1ZmZlcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIEJvZHkoKSB7XG4gICAgdGhpcy5ib2R5VXNlZCA9IGZhbHNlO1xuXG4gICAgdGhpcy5faW5pdEJvZHkgPSBmdW5jdGlvbiAoYm9keSkge1xuICAgICAgdGhpcy5fYm9keUluaXQgPSBib2R5O1xuICAgICAgaWYgKCFib2R5KSB7XG4gICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gJyc7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgICB0aGlzLl9ib2R5VGV4dCA9IGJvZHk7XG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYmxvYiAmJiBCbG9iLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlCbG9iID0gYm9keTtcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5mb3JtRGF0YSAmJiBGb3JtRGF0YS5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICB0aGlzLl9ib2R5Rm9ybURhdGEgPSBib2R5O1xuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LnNlYXJjaFBhcmFtcyAmJiBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5LnRvU3RyaW5nKCk7XG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIgJiYgc3VwcG9ydC5ibG9iICYmIGlzRGF0YVZpZXcoYm9keSkpIHtcbiAgICAgICAgdGhpcy5fYm9keUFycmF5QnVmZmVyID0gYnVmZmVyQ2xvbmUoYm9keS5idWZmZXIpO1xuICAgICAgICAvLyBJRSAxMC0xMSBjYW4ndCBoYW5kbGUgYSBEYXRhVmlldyBib2R5LlxuICAgICAgICB0aGlzLl9ib2R5SW5pdCA9IG5ldyBCbG9iKFt0aGlzLl9ib2R5QXJyYXlCdWZmZXJdKTtcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlciAmJiAoQXJyYXlCdWZmZXIucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkgfHwgaXNBcnJheUJ1ZmZlclZpZXcoYm9keSkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlBcnJheUJ1ZmZlciA9IGJ1ZmZlckNsb25lKGJvZHkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5ID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGJvZHkpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCAndGV4dC9wbGFpbjtjaGFyc2V0PVVURi04Jyk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUJsb2IgJiYgdGhpcy5fYm9keUJsb2IudHlwZSkge1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsIHRoaXMuX2JvZHlCbG9iLnR5cGUpO1xuICAgICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuc2VhcmNoUGFyYW1zICYmIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmIChzdXBwb3J0LmJsb2IpIHtcbiAgICAgIHRoaXMuYmxvYiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKTtcbiAgICAgICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdGVkO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2JvZHlCbG9iKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QmxvYik7XG4gICAgICAgIH0gaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlBcnJheUJ1ZmZlcl0pKTtcbiAgICAgICAgfSBpZiAodGhpcy5fYm9keUZvcm1EYXRhKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIGJsb2InKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5VGV4dF0pKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdGhpcy5hcnJheUJ1ZmZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuICAgICAgICAgIHJldHVybiBjb25zdW1lZCh0aGlzKSB8fCBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keUFycmF5QnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5ibG9iKCkudGhlbihyZWFkQmxvYkFzQXJyYXlCdWZmZXIpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICB0aGlzLnRleHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCByZWplY3RlZCA9IGNvbnN1bWVkKHRoaXMpO1xuICAgICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICAgIHJldHVybiByZWplY3RlZDtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2JvZHlCbG9iKSB7XG4gICAgICAgIHJldHVybiByZWFkQmxvYkFzVGV4dCh0aGlzLl9ib2R5QmxvYik7XG4gICAgICB9IGlmICh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZWFkQXJyYXlCdWZmZXJBc1RleHQodGhpcy5fYm9keUFycmF5QnVmZmVyKSk7XG4gICAgICB9IGlmICh0aGlzLl9ib2R5Rm9ybURhdGEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIHRleHQnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keVRleHQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoc3VwcG9ydC5mb3JtRGF0YSkge1xuICAgICAgdGhpcy5mb3JtRGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oZGVjb2RlKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgdGhpcy5qc29uID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oSlNPTi5wYXJzZSk7XG4gICAgfTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gSFRUUCBtZXRob2RzIHdob3NlIGNhcGl0YWxpemF0aW9uIHNob3VsZCBiZSBub3JtYWxpemVkXG4gIGNvbnN0IG1ldGhvZHMgPSBbJ0RFTEVURScsICdHRVQnLCAnSEVBRCcsICdPUFRJT05TJywgJ1BPU1QnLCAnUFVUJ107XG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplTWV0aG9kKG1ldGhvZCkge1xuICAgIGNvbnN0IHVwY2FzZWQgPSBtZXRob2QudG9VcHBlckNhc2UoKTtcbiAgICByZXR1cm4gbWV0aG9kcy5pbmRleE9mKHVwY2FzZWQpID4gLTEgPyB1cGNhc2VkIDogbWV0aG9kO1xuICB9XG5cbiAgZnVuY3Rpb24gUmVxdWVzdChpbnB1dCwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIGxldCB7IGJvZHkgfSA9IG9wdGlvbnM7XG5cbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBSZXF1ZXN0KSB7XG4gICAgICBpZiAoaW5wdXQuYm9keVVzZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQWxyZWFkeSByZWFkJyk7XG4gICAgICB9XG4gICAgICB0aGlzLnVybCA9IGlucHV0LnVybDtcbiAgICAgIHRoaXMuY3JlZGVudGlhbHMgPSBpbnB1dC5jcmVkZW50aWFscztcbiAgICAgIGlmICghb3B0aW9ucy5oZWFkZXJzKSB7XG4gICAgICAgIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKGlucHV0LmhlYWRlcnMpO1xuICAgICAgfVxuICAgICAgdGhpcy5tZXRob2QgPSBpbnB1dC5tZXRob2Q7XG4gICAgICB0aGlzLm1vZGUgPSBpbnB1dC5tb2RlO1xuICAgICAgdGhpcy5zaWduYWwgPSBpbnB1dC5zaWduYWw7XG4gICAgICBpZiAoIWJvZHkgJiYgaW5wdXQuX2JvZHlJbml0ICE9IG51bGwpIHtcbiAgICAgICAgYm9keSA9IGlucHV0Ll9ib2R5SW5pdDtcbiAgICAgICAgaW5wdXQuYm9keVVzZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVybCA9IFN0cmluZyhpbnB1dCk7XG4gICAgfVxuXG4gICAgdGhpcy5jcmVkZW50aWFscyA9IG9wdGlvbnMuY3JlZGVudGlhbHMgfHwgdGhpcy5jcmVkZW50aWFscyB8fCAnc2FtZS1vcmlnaW4nO1xuICAgIGlmIChvcHRpb25zLmhlYWRlcnMgfHwgIXRoaXMuaGVhZGVycykge1xuICAgICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKTtcbiAgICB9XG4gICAgdGhpcy5tZXRob2QgPSBub3JtYWxpemVNZXRob2Qob3B0aW9ucy5tZXRob2QgfHwgdGhpcy5tZXRob2QgfHwgJ0dFVCcpO1xuICAgIHRoaXMubW9kZSA9IG9wdGlvbnMubW9kZSB8fCB0aGlzLm1vZGUgfHwgbnVsbDtcbiAgICB0aGlzLnNpZ25hbCA9IG9wdGlvbnMuc2lnbmFsIHx8IHRoaXMuc2lnbmFsO1xuICAgIHRoaXMucmVmZXJyZXIgPSBudWxsO1xuXG4gICAgaWYgKCh0aGlzLm1ldGhvZCA9PT0gJ0dFVCcgfHwgdGhpcy5tZXRob2QgPT09ICdIRUFEJykgJiYgYm9keSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQm9keSBub3QgYWxsb3dlZCBmb3IgR0VUIG9yIEhFQUQgcmVxdWVzdHMnKTtcbiAgICB9XG4gICAgdGhpcy5faW5pdEJvZHkoYm9keSk7XG4gIH1cblxuICBSZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IFJlcXVlc3QodGhpcywgeyBib2R5OiB0aGlzLl9ib2R5SW5pdCB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiBkZWNvZGUoYm9keSkge1xuICAgIGNvbnN0IGZvcm0gPSBuZXcgRm9ybURhdGEoKTtcbiAgICBib2R5XG4gICAgICAudHJpbSgpXG4gICAgICAuc3BsaXQoJyYnKVxuICAgICAgLmZvckVhY2goKGJ5dGVzKSA9PiB7XG4gICAgICAgIGlmIChieXRlcykge1xuICAgICAgICAgIGNvbnN0IHNwbGl0ID0gYnl0ZXMuc3BsaXQoJz0nKTtcbiAgICAgICAgICBjb25zdCBuYW1lID0gc3BsaXQuc2hpZnQoKS5yZXBsYWNlKC9cXCsvZywgJyAnKTtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IHNwbGl0LmpvaW4oJz0nKS5yZXBsYWNlKC9cXCsvZywgJyAnKTtcbiAgICAgICAgICBmb3JtLmFwcGVuZChkZWNvZGVVUklDb21wb25lbnQobmFtZSksIGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICByZXR1cm4gZm9ybTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhcnNlSGVhZGVycyhyYXdIZWFkZXJzKSB7XG4gICAgY29uc3QgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG4gICAgLy8gUmVwbGFjZSBpbnN0YW5jZXMgb2YgXFxyXFxuIGFuZCBcXG4gZm9sbG93ZWQgYnkgYXQgbGVhc3Qgb25lIHNwYWNlIG9yIGhvcml6b250YWwgdGFiIHdpdGggYSBzcGFjZVxuICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM3MjMwI3NlY3Rpb24tMy4yXG4gICAgY29uc3QgcHJlUHJvY2Vzc2VkSGVhZGVycyA9IHJhd0hlYWRlcnMucmVwbGFjZSgvXFxyP1xcbltcXHQgXSsvZywgJyAnKTtcbiAgICBwcmVQcm9jZXNzZWRIZWFkZXJzLnNwbGl0KC9cXHI/XFxuLykuZm9yRWFjaCgobGluZSkgPT4ge1xuICAgICAgY29uc3QgcGFydHMgPSBsaW5lLnNwbGl0KCc6Jyk7XG4gICAgICBjb25zdCBrZXkgPSBwYXJ0cy5zaGlmdCgpLnRyaW0oKTtcbiAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBwYXJ0cy5qb2luKCc6JykudHJpbSgpO1xuICAgICAgICBoZWFkZXJzLmFwcGVuZChrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gaGVhZGVycztcbiAgfVxuXG4gIEJvZHkuY2FsbChSZXF1ZXN0LnByb3RvdHlwZSk7XG5cbiAgZnVuY3Rpb24gUmVzcG9uc2UoYm9keUluaXQsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICB0aGlzLnR5cGUgPSAnZGVmYXVsdCc7XG4gICAgdGhpcy5zdGF0dXMgPSBvcHRpb25zLnN0YXR1cyA9PT0gdW5kZWZpbmVkID8gMjAwIDogb3B0aW9ucy5zdGF0dXM7XG4gICAgdGhpcy5vayA9IHRoaXMuc3RhdHVzID49IDIwMCAmJiB0aGlzLnN0YXR1cyA8IDMwMDtcbiAgICB0aGlzLnN0YXR1c1RleHQgPSAnc3RhdHVzVGV4dCcgaW4gb3B0aW9ucyA/IG9wdGlvbnMuc3RhdHVzVGV4dCA6ICdPSyc7XG4gICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKTtcbiAgICB0aGlzLnVybCA9IG9wdGlvbnMudXJsIHx8ICcnO1xuICAgIHRoaXMuX2luaXRCb2R5KGJvZHlJbml0KTtcbiAgfVxuXG4gIEJvZHkuY2FsbChSZXNwb25zZS5wcm90b3R5cGUpO1xuXG4gIFJlc3BvbnNlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKHRoaXMuX2JvZHlJbml0LCB7XG4gICAgICBzdGF0dXM6IHRoaXMuc3RhdHVzLFxuICAgICAgc3RhdHVzVGV4dDogdGhpcy5zdGF0dXNUZXh0LFxuICAgICAgaGVhZGVyczogbmV3IEhlYWRlcnModGhpcy5oZWFkZXJzKSxcbiAgICAgIHVybDogdGhpcy51cmwsXG4gICAgfSk7XG4gIH07XG5cbiAgUmVzcG9uc2UuZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UobnVsbCwgeyBzdGF0dXM6IDAsIHN0YXR1c1RleHQ6ICcnIH0pO1xuICAgIHJlc3BvbnNlLnR5cGUgPSAnZXJyb3InO1xuICAgIHJldHVybiByZXNwb25zZTtcbiAgfTtcblxuICBjb25zdCByZWRpcmVjdFN0YXR1c2VzID0gWzMwMSwgMzAyLCAzMDMsIDMwNywgMzA4XTtcblxuICBSZXNwb25zZS5yZWRpcmVjdCA9IGZ1bmN0aW9uICh1cmwsIHN0YXR1cykge1xuICAgIGlmIChyZWRpcmVjdFN0YXR1c2VzLmluZGV4T2Yoc3RhdHVzKSA9PT0gLTEpIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbnZhbGlkIHN0YXR1cyBjb2RlJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShudWxsLCB7IHN0YXR1cywgaGVhZGVyczogeyBsb2NhdGlvbjogdXJsIH0gfSk7XG4gIH07XG5cbiAgZXhwb3J0cy5ET01FeGNlcHRpb24gPSBzZWxmLkRPTUV4Y2VwdGlvbjtcbiAgdHJ5IHtcbiAgICBuZXcgZXhwb3J0cy5ET01FeGNlcHRpb24oKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgZXhwb3J0cy5ET01FeGNlcHRpb24gPSBmdW5jdGlvbiAobWVzc2FnZSwgbmFtZSkge1xuICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICBjb25zdCBlcnJvciA9IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgdGhpcy5zdGFjayA9IGVycm9yLnN0YWNrO1xuICAgIH07XG4gICAgZXhwb3J0cy5ET01FeGNlcHRpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuICAgIGV4cG9ydHMuRE9NRXhjZXB0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGV4cG9ydHMuRE9NRXhjZXB0aW9uO1xuICB9XG5cbiAgZnVuY3Rpb24gZmV0Y2goaW5wdXQsIGluaXQpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KGlucHV0LCBpbml0KTtcblxuICAgICAgaWYgKHJlcXVlc3Quc2lnbmFsICYmIHJlcXVlc3Quc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlamVjdChuZXcgZXhwb3J0cy5ET01FeGNlcHRpb24oJ0Fib3J0ZWQnLCAnQWJvcnRFcnJvcicpKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAgIGZ1bmN0aW9uIGFib3J0WGhyKCkge1xuICAgICAgICB4aHIuYWJvcnQoKTtcbiAgICAgIH1cblxuICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgICBzdGF0dXM6IHhoci5zdGF0dXMsXG4gICAgICAgICAgc3RhdHVzVGV4dDogeGhyLnN0YXR1c1RleHQsXG4gICAgICAgICAgaGVhZGVyczogcGFyc2VIZWFkZXJzKHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSB8fCAnJyksXG4gICAgICAgIH07XG4gICAgICAgIG9wdGlvbnMudXJsID0gJ3Jlc3BvbnNlVVJMJyBpbiB4aHIgPyB4aHIucmVzcG9uc2VVUkwgOiBvcHRpb25zLmhlYWRlcnMuZ2V0KCdYLVJlcXVlc3QtVVJMJyk7XG4gICAgICAgIGNvbnN0IGJvZHkgPSAncmVzcG9uc2UnIGluIHhociA/IHhoci5yZXNwb25zZSA6IHhoci5yZXNwb25zZVRleHQ7XG4gICAgICAgIHJlc29sdmUobmV3IFJlc3BvbnNlKGJvZHksIG9wdGlvbnMpKTtcbiAgICAgIH07XG5cbiAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZWplY3QobmV3IFR5cGVFcnJvcignTmV0d29yayByZXF1ZXN0IGZhaWxlZCcpKTtcbiAgICAgIH07XG5cbiAgICAgIHhoci5vbnRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJlamVjdChuZXcgVHlwZUVycm9yKCdOZXR3b3JrIHJlcXVlc3QgZmFpbGVkJykpO1xuICAgICAgfTtcblxuICAgICAgeGhyLm9uYWJvcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJlamVjdChuZXcgZXhwb3J0cy5ET01FeGNlcHRpb24oJ0Fib3J0ZWQnLCAnQWJvcnRFcnJvcicpKTtcbiAgICAgIH07XG5cbiAgICAgIHhoci5vcGVuKHJlcXVlc3QubWV0aG9kLCByZXF1ZXN0LnVybCwgdHJ1ZSk7XG5cbiAgICAgIGlmIChyZXF1ZXN0LmNyZWRlbnRpYWxzID09PSAnaW5jbHVkZScpIHtcbiAgICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKHJlcXVlc3QuY3JlZGVudGlhbHMgPT09ICdvbWl0Jykge1xuICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmICgncmVzcG9uc2VUeXBlJyBpbiB4aHIgJiYgc3VwcG9ydC5ibG9iKSB7XG4gICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYmxvYic7XG4gICAgICB9XG5cbiAgICAgIHJlcXVlc3QuaGVhZGVycy5mb3JFYWNoKCh2YWx1ZSwgbmFtZSkgPT4ge1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihuYW1lLCB2YWx1ZSk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKHJlcXVlc3Quc2lnbmFsKSB7XG4gICAgICAgIHJlcXVlc3Quc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgYWJvcnRYaHIpO1xuXG4gICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgLy8gRE9ORSAoc3VjY2VzcyBvciBmYWlsdXJlKVxuICAgICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkge1xuICAgICAgICAgICAgcmVxdWVzdC5zaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBhYm9ydFhocik7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICB4aHIuc2VuZCh0eXBlb2YgcmVxdWVzdC5fYm9keUluaXQgPT09ICd1bmRlZmluZWQnID8gbnVsbCA6IHJlcXVlc3QuX2JvZHlJbml0KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZldGNoLnBvbHlmaWxsID0gdHJ1ZTtcblxuICBpZiAoIXNlbGYuZmV0Y2gpIHtcbiAgICBzZWxmLmZldGNoID0gZmV0Y2g7XG4gICAgc2VsZi5IZWFkZXJzID0gSGVhZGVycztcbiAgICBzZWxmLlJlcXVlc3QgPSBSZXF1ZXN0O1xuICAgIHNlbGYuUmVzcG9uc2UgPSBSZXNwb25zZTtcbiAgfVxuXG4gIGV4cG9ydHMuSGVhZGVycyA9IEhlYWRlcnM7XG4gIGV4cG9ydHMuUmVxdWVzdCA9IFJlcXVlc3Q7XG4gIGV4cG9ydHMuUmVzcG9uc2UgPSBSZXNwb25zZTtcbiAgZXhwb3J0cy5mZXRjaCA9IGZldGNoO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59KSkpO1xuIiwiIShmdW5jdGlvbiAoZSwgdCkgeyB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyB0KCkgOiB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUodCkgOiB0KCk7IH0oMCwgKCkgPT4ge1xuICBmdW5jdGlvbiBlKGUpIHsgY29uc3QgdCA9IHRoaXMuY29uc3RydWN0b3I7IHJldHVybiB0aGlzLnRoZW4oKG4pID0+IHQucmVzb2x2ZShlKCkpLnRoZW4oKCkgPT4gbiksIChuKSA9PiB0LnJlc29sdmUoZSgpKS50aGVuKCgpID0+IHQucmVqZWN0KG4pKSk7IH0gZnVuY3Rpb24gdChlKSB7IHJldHVybiBuZXcgdGhpcygodCwgbikgPT4geyBmdW5jdGlvbiBvKGUsIG4pIHsgaWYgKG4gJiYgKHR5cGVvZiBuID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgbiA9PT0gJ2Z1bmN0aW9uJykpIHsgY29uc3QgZiA9IG4udGhlbjsgaWYgKHR5cGVvZiBmID09PSAnZnVuY3Rpb24nKSByZXR1cm4gdm9pZCBmLmNhbGwobiwgKHQpID0+IHsgbyhlLCB0KTsgfSwgKG4pID0+IHsgcltlXSA9IHsgc3RhdHVzOiAncmVqZWN0ZWQnLCByZWFzb246IG4gfSwgLS1pID09IDAgJiYgdChyKTsgfSk7IH1yW2VdID0geyBzdGF0dXM6ICdmdWxmaWxsZWQnLCB2YWx1ZTogbiB9LCAtLWkgPT0gMCAmJiB0KHIpOyB9IGlmICghZSB8fCB0eXBlb2YgZS5sZW5ndGggPT09ICd1bmRlZmluZWQnKSByZXR1cm4gbihuZXcgVHlwZUVycm9yKGAke3R5cGVvZiBlfSAke2V9IGlzIG5vdCBpdGVyYWJsZShjYW5ub3QgcmVhZCBwcm9wZXJ0eSBTeW1ib2woU3ltYm9sLml0ZXJhdG9yKSlgKSk7IHZhciByID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSk7IGlmIChyLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHQoW10pOyBmb3IgKHZhciBpID0gci5sZW5ndGgsIGYgPSAwOyByLmxlbmd0aCA+IGY7IGYrKylvKGYsIHJbZl0pOyB9KTsgfSBmdW5jdGlvbiBuKGUpIHsgcmV0dXJuICEoIWUgfHwgdHlwZW9mIGUubGVuZ3RoID09PSAndW5kZWZpbmVkJyk7IH0gZnVuY3Rpb24gbygpIHt9IGZ1bmN0aW9uIHIoZSkgeyBpZiAoISh0aGlzIGluc3RhbmNlb2YgcikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb21pc2VzIG11c3QgYmUgY29uc3RydWN0ZWQgdmlhIG5ldycpOyBpZiAodHlwZW9mIGUgIT09ICdmdW5jdGlvbicpIHRocm93IG5ldyBUeXBlRXJyb3IoJ25vdCBhIGZ1bmN0aW9uJyk7IHRoaXMuX3N0YXRlID0gMCwgdGhpcy5faGFuZGxlZCA9ICExLCB0aGlzLl92YWx1ZSA9IHVuZGVmaW5lZCwgdGhpcy5fZGVmZXJyZWRzID0gW10sIGwoZSwgdGhpcyk7IH0gZnVuY3Rpb24gaShlLCB0KSB7IGZvciAoO2UuX3N0YXRlID09PSAzOyllID0gZS5fdmFsdWU7IGUuX3N0YXRlICE9PSAwID8gKGUuX2hhbmRsZWQgPSAhMCwgci5faW1tZWRpYXRlRm4oKCkgPT4geyBjb25zdCBuID0gZS5fc3RhdGUgPT09IDEgPyB0Lm9uRnVsZmlsbGVkIDogdC5vblJlamVjdGVkOyBpZiAobiAhPT0gbnVsbCkgeyBsZXQgbzsgdHJ5IHsgbyA9IG4oZS5fdmFsdWUpOyB9IGNhdGNoIChyKSB7IHJldHVybiB2b2lkIHUodC5wcm9taXNlLCByKTsgfWYodC5wcm9taXNlLCBvKTsgfSBlbHNlIChlLl9zdGF0ZSA9PT0gMSA/IGYgOiB1KSh0LnByb21pc2UsIGUuX3ZhbHVlKTsgfSkpIDogZS5fZGVmZXJyZWRzLnB1c2godCk7IH0gZnVuY3Rpb24gZihlLCB0KSB7IHRyeSB7IGlmICh0ID09PSBlKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdBIHByb21pc2UgY2Fubm90IGJlIHJlc29sdmVkIHdpdGggaXRzZWxmLicpOyBpZiAodCAmJiAodHlwZW9mIHQgPT09ICdvYmplY3QnIHx8IHR5cGVvZiB0ID09PSAnZnVuY3Rpb24nKSkgeyBjb25zdCBuID0gdC50aGVuOyBpZiAodCBpbnN0YW5jZW9mIHIpIHJldHVybiBlLl9zdGF0ZSA9IDMsIGUuX3ZhbHVlID0gdCwgdm9pZCBjKGUpOyBpZiAodHlwZW9mIG4gPT09ICdmdW5jdGlvbicpIHJldHVybiB2b2lkIGwoKGZ1bmN0aW9uIChlLCB0KSB7IHJldHVybiBmdW5jdGlvbiAoKSB7IGUuYXBwbHkodCwgYXJndW1lbnRzKTsgfTsgfShuLCB0KSksIGUpOyB9ZS5fc3RhdGUgPSAxLCBlLl92YWx1ZSA9IHQsIGMoZSk7IH0gY2F0Y2ggKG8pIHsgdShlLCBvKTsgfSB9IGZ1bmN0aW9uIHUoZSwgdCkgeyBlLl9zdGF0ZSA9IDIsIGUuX3ZhbHVlID0gdCwgYyhlKTsgfSBmdW5jdGlvbiBjKGUpIHsgZS5fc3RhdGUgPT09IDIgJiYgZS5fZGVmZXJyZWRzLmxlbmd0aCA9PT0gMCAmJiByLl9pbW1lZGlhdGVGbigoKSA9PiB7IGUuX2hhbmRsZWQgfHwgci5fdW5oYW5kbGVkUmVqZWN0aW9uRm4oZS5fdmFsdWUpOyB9KTsgZm9yIChsZXQgdCA9IDAsIG4gPSBlLl9kZWZlcnJlZHMubGVuZ3RoOyBuID4gdDsgdCsrKWkoZSwgZS5fZGVmZXJyZWRzW3RdKTsgZS5fZGVmZXJyZWRzID0gbnVsbDsgfSBmdW5jdGlvbiBsKGUsIHQpIHsgbGV0IG4gPSAhMTsgdHJ5IHsgZSgoZSkgPT4geyBuIHx8IChuID0gITAsIGYodCwgZSkpOyB9LCAoZSkgPT4geyBuIHx8IChuID0gITAsIHUodCwgZSkpOyB9KTsgfSBjYXRjaCAobykgeyBpZiAobikgcmV0dXJuOyBuID0gITAsIHUodCwgbyk7IH0gfSBjb25zdCBhID0gc2V0VGltZW91dDsgci5wcm90b3R5cGUuY2F0Y2ggPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4gdGhpcy50aGVuKG51bGwsIGUpOyB9LCByLnByb3RvdHlwZS50aGVuID0gZnVuY3Rpb24gKGUsIHQpIHsgY29uc3QgbiA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKG8pOyByZXR1cm4gaSh0aGlzLCBuZXcgZnVuY3Rpb24gKGUsIHQsIG4pIHsgdGhpcy5vbkZ1bGZpbGxlZCA9IHR5cGVvZiBlID09PSAnZnVuY3Rpb24nID8gZSA6IG51bGwsIHRoaXMub25SZWplY3RlZCA9IHR5cGVvZiB0ID09PSAnZnVuY3Rpb24nID8gdCA6IG51bGwsIHRoaXMucHJvbWlzZSA9IG47IH0oZSwgdCwgbikpLCBuOyB9LCByLnByb3RvdHlwZS5maW5hbGx5ID0gZSwgci5hbGwgPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4gbmV3IHIoKHQsIG8pID0+IHsgZnVuY3Rpb24gcihlLCBuKSB7IHRyeSB7IGlmIChuICYmICh0eXBlb2YgbiA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIG4gPT09ICdmdW5jdGlvbicpKSB7IGNvbnN0IHUgPSBuLnRoZW47IGlmICh0eXBlb2YgdSA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIHZvaWQgdS5jYWxsKG4sICh0KSA9PiB7IHIoZSwgdCk7IH0sIG8pOyB9aVtlXSA9IG4sIC0tZiA9PSAwICYmIHQoaSk7IH0gY2F0Y2ggKGMpIHsgbyhjKTsgfSB9IGlmICghbihlKSkgcmV0dXJuIG8obmV3IFR5cGVFcnJvcignUHJvbWlzZS5hbGwgYWNjZXB0cyBhbiBhcnJheScpKTsgdmFyIGkgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlKTsgaWYgKGkubGVuZ3RoID09PSAwKSByZXR1cm4gdChbXSk7IGZvciAodmFyIGYgPSBpLmxlbmd0aCwgdSA9IDA7IGkubGVuZ3RoID4gdTsgdSsrKXIodSwgaVt1XSk7IH0pOyB9LCByLmFsbFNldHRsZWQgPSB0LCByLnJlc29sdmUgPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4gZSAmJiB0eXBlb2YgZSA9PT0gJ29iamVjdCcgJiYgZS5jb25zdHJ1Y3RvciA9PT0gciA/IGUgOiBuZXcgcigodCkgPT4geyB0KGUpOyB9KTsgfSwgci5yZWplY3QgPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4gbmV3IHIoKHQsIG4pID0+IHsgbihlKTsgfSk7IH0sIHIucmFjZSA9IGZ1bmN0aW9uIChlKSB7IHJldHVybiBuZXcgcigodCwgbykgPT4geyBpZiAoIW4oZSkpIHJldHVybiBvKG5ldyBUeXBlRXJyb3IoJ1Byb21pc2UucmFjZSBhY2NlcHRzIGFuIGFycmF5JykpOyBmb3IgKGxldCBpID0gMCwgZiA9IGUubGVuZ3RoOyBmID4gaTsgaSsrKXIucmVzb2x2ZShlW2ldKS50aGVuKHQsIG8pOyB9KTsgfSwgci5faW1tZWRpYXRlRm4gPSB0eXBlb2Ygc2V0SW1tZWRpYXRlID09PSAnZnVuY3Rpb24nICYmIGZ1bmN0aW9uIChlKSB7IHNldEltbWVkaWF0ZShlKTsgfSB8fCBmdW5jdGlvbiAoZSkgeyBhKGUsIDApOyB9LCByLl91bmhhbmRsZWRSZWplY3Rpb25GbiA9IGZ1bmN0aW9uIChlKSB7IHZvaWQgMCAhPT0gY29uc29sZSAmJiBjb25zb2xlICYmIGNvbnNvbGUud2FybignUG9zc2libGUgVW5oYW5kbGVkIFByb21pc2UgUmVqZWN0aW9uOicsIGUpOyB9OyBjb25zdCBzID0gKGZ1bmN0aW9uICgpIHsgaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJykgcmV0dXJuIHNlbGY7IGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgcmV0dXJuIHdpbmRvdzsgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSByZXR1cm4gZ2xvYmFsOyB0aHJvdyBFcnJvcigndW5hYmxlIHRvIGxvY2F0ZSBnbG9iYWwgb2JqZWN0Jyk7IH0oKSk7IHR5cGVvZiBzLlByb21pc2UgIT09ICdmdW5jdGlvbicgPyBzLlByb21pc2UgPSByIDogKHMuUHJvbWlzZS5wcm90b3R5cGUuZmluYWxseSB8fCAocy5Qcm9taXNlLnByb3RvdHlwZS5maW5hbGx5ID0gZSksIHMuUHJvbWlzZS5hbGxTZXR0bGVkIHx8IChzLlByb21pc2UuYWxsU2V0dGxlZCA9IHQpKTtcbn0pKTtcbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bmRlZiAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuY29uc3QgcG9rZW1vblJlcG9zaXRvcnkgPSAoKCkgPT4ge1xuICBjb25zdCBwb2tlbW9uTGlzdCA9IFtdO1xuICBjb25zdCBwb2tlbW9uQXBpVXJsID0gJ2h0dHBzOi8vcG9rZWFwaS5jby9hcGkvdjIvcG9rZW1vbi8/bGltaXQ9MTUwJztcbiAgY29uc3QgcG9rZW1vbkxpc3RDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9rZW1vbi1saXN0Jyk7IC8vIHNlbGVjdGluZyBkaXYgZnJvbSBodG1sXG4gIGNvbnN0IHNlYXJjaElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm0tY29udHJvbCcpO1xuXG4gIGFzeW5jIGZ1bmN0aW9uIGZldGNoUG9rZW1vbkRldGFpbHMocG9rZW1vbikge1xuICAgIGNvbnN0IHVybCA9IHBva2Vtb24uZGV0YWlsc1VybDtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwpOyAvLyBnZXRzIGEgcHJvbWlzZSBmcm9tIGRldGFpbHNVcmxcbiAgICAgIGNvbnN0IGRldGFpbHMgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7IC8vIHR1cm5zIHRoZSByZXNwb25zZSBpbnRvIGEganNvbiBjYWxsZWQgZGV0YWlsc1xuICAgICAgcG9rZW1vbi5oZWlnaHQgPSBkZXRhaWxzLmhlaWdodDtcbiAgICAgIHBva2Vtb24uZnJvbnRJbWdVcmwgPSBkZXRhaWxzLnNwcml0ZXMuZnJvbnRfZGVmYXVsdDtcbiAgICAgIHBva2Vtb24uYmFja0ltZ1VybCA9IGRldGFpbHMuc3ByaXRlcy5iYWNrX2RlZmF1bHQ7XG5cbiAgICAgIGNvbnN0IHBva2Vtb25UeXBlTGlzdCA9IFtdO1xuXG4gICAgICBkZXRhaWxzLnR5cGVzLmZvckVhY2goKGl0ZW0pID0+IHsgLy8gaXRlcmF0aW5nIG92ZXIgdGhlIGRldGFpbHMudHlwZXNcbiAgICAgICAgcG9rZW1vblR5cGVMaXN0LnB1c2goaXRlbS50eXBlLm5hbWUpOyAvLyBwdXNoaW5nIHRoZSBpdGVtcyBpbnRvIHBva2Vtb25UeXBlTGlzdFxuICAgICAgfSk7XG4gICAgICBwb2tlbW9uLnR5cGVzID0gcG9rZW1vblR5cGVMaXN0LmpvaW4oJywgJyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBhZGRQb2tlbW9uKHBva2Vtb24pIHsgLy8gZnVuY3Rpb24gZ3JhYnMgdGhlIHBva2Vtb25hcGlcbiAgICBpZiAoXG4gICAgICB0eXBlb2YgcG9rZW1vbiA9PT0gJ29iamVjdCcgLy8gaWYgcG9rZW1vbiBpcyBhbiBvYmplY3RcbiAgICAgICAgICAmJiBPYmplY3Qua2V5cyhwb2tlbW9uKS5pbmNsdWRlcygnbmFtZScpICYmIE9iamVjdC5rZXlzKHBva2Vtb24pLmluY2x1ZGVzKCdkZXRhaWxzVXJsJykgLy8gYW5kIHRoZSBrZXlzIG5hbWUgYW5kIC5kZXRhaWxzVXJsXG4gICAgKSB7XG4gICAgICBwb2tlbW9uTGlzdC5wdXNoKHBva2Vtb24pOyAvLyBpZiBzbyBwdXNoIHBva2Vtb24gdG8gdGhlIHBva2Vtb25MaXN0IGFycmF5XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICdQb2vDqW1vbiBoYXMgdG8gYmUgYWRkZWQgdXNpbmcgdGhpcyBmb3JtYXQ6IHtuYW1lOiwgZGV0YWlsc1VybDp9JyxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2hvd0xvYWRpbmdNZXNzYWdlKCkge1xuICAgIGNvbnN0IGxvYWRpbmdNZXNzYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7IC8vIHRoaXMgaXMgY3JlYXRpbmcgYW4gZWxlbWVudCAncCdcbiAgICBsb2FkaW5nTWVzc2FnZS5jbGFzc0xpc3QuYWRkKCdsb2FkaW5nLW1lc3NhZ2UnKTsgLy8gY3JlYXRlcyBhIGNsYXNzbGlzdC4gY2FsbCA9PiAnLmxvYWRpbmctbWVzc2FnZSdcblxuICAgIGNvbnN0IHNlYXJjaEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybS1pbmxpbmUnKTtcbiAgICBjb25zdCB7IHBhcmVudE5vZGUgfSA9IHNlYXJjaEZvcm07XG5cbiAgICBwYXJlbnROb2RlLmluc2VydEJlZm9yZShsb2FkaW5nTWVzc2FnZSwgc2VhcmNoRm9ybSk7XG4gIH1cblxuICBmdW5jdGlvbiBoaWRlTG9hZGluZ01lc3NhZ2UoKSB7XG4gICAgY29uc3QgbG9hZGluZ01lc3NhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9hZGluZy1tZXNzYWdlJyk7IC8vIHRoaXMgaXMgc2VsZWN0aW5nIHRoZSBsb2FkaW5nTWVzc2FnZSBlbGVtZW50XG4gICAgbG9hZGluZ01lc3NhZ2UucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChsb2FkaW5nTWVzc2FnZSk7XG4gIH1cblxuICBmdW5jdGlvbiBzaG93RGV0YWlscyhwb2tlbW9uKSB7XG4gICAgZmV0Y2hQb2tlbW9uRGV0YWlscyhwb2tlbW9uKS50aGVuKCgpID0+IHsgLy8gZmV0Y2hQb2tlbW9uRGV0YWlscyBnZXRzIGNhbGxlZCBpblxuICAgICAgY29uc3QgbW9kYWxCb2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLWJvZHknKTtcbiAgICAgIGNvbnN0IG1vZGFsVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtdGl0bGUnKTtcblxuICAgICAgbW9kYWxCb2R5LmlubmVySFRNTCA9ICcnO1xuICAgICAgbW9kYWxUaXRsZS5pbm5lckhUTUwgPSAnJztcblxuICAgICAgbW9kYWxUaXRsZS5pbm5lclRleHQgPSBwb2tlbW9uLm5hbWU7XG4gICAgICBtb2RhbFRpdGxlLmNsYXNzTGlzdC5hZGQoJ21vZGFsLXRpdGxlJyk7XG5cbiAgICAgIGNvbnN0IGhlaWdodCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTsgLy8gY3JlYXRpbmcgYW4gZWxlbWVudCBmb3IgdGhlIHBva2Vtb24uaGVpZ2h0XG4gICAgICBoZWlnaHQudGV4dENvbnRlbnQgPSBgSGVpZ2h0OiAke3Bva2Vtb24uaGVpZ2h0fWA7XG4gICAgICBoZWlnaHQuY2xhc3NMaXN0LmFkZCgnbW9kYWwtaGVpZ2h0Jyk7XG5cbiAgICAgIGNvbnN0IGZyb250SW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7IC8vIGNyZWF0aW5nIGltZyBlbGVtZW50cyBmb3IgdGhlIHBva2Vtb25cbiAgICAgIGZyb250SW1nLnNyYyA9IHBva2Vtb24uZnJvbnRJbWdVcmw7XG4gICAgICBjb25zdCBiYWNrSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICBiYWNrSW1nLnNyYyA9IHBva2Vtb24uYmFja0ltZ1VybDtcbiAgICAgIGZyb250SW1nLmNsYXNzTGlzdC5hZGQoJ21vZGFsLWltZycpO1xuICAgICAgYmFja0ltZy5jbGFzc0xpc3QuYWRkKCdtb2RhbC1pbWcnKTtcblxuICAgICAgY29uc3QgbW9kYWxUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBtb2RhbFRleHQuY2xhc3NMaXN0LmFkZCgnbW9kYWwtdGV4dCcpO1xuXG4gICAgICBjb25zdCB0eXBlcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgIHR5cGVzLnRleHRDb250ZW50ID0gYFR5cGVzOiAke3Bva2Vtb24udHlwZXN9YDtcbiAgICAgIHR5cGVzLmNsYXNzTGlzdC5hZGQoJ21vZGFsLXR5cGVzJyk7XG5cbiAgICAgIG1vZGFsQm9keS5hcHBlbmRDaGlsZChmcm9udEltZyk7XG4gICAgICBtb2RhbEJvZHkuYXBwZW5kQ2hpbGQoYmFja0ltZyk7XG4gICAgICBtb2RhbEJvZHkuYXBwZW5kQ2hpbGQobW9kYWxUZXh0KTtcbiAgICAgIG1vZGFsVGV4dC5hcHBlbmRDaGlsZChoZWlnaHQpO1xuICAgICAgbW9kYWxUZXh0LmFwcGVuZENoaWxkKHR5cGVzKTtcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIGZldGNoUG9rZW1vbkxpc3QoKSB7XG4gICAgc2hvd0xvYWRpbmdNZXNzYWdlKCk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gocG9rZW1vbkFwaVVybCk7IC8vIGdldHMgYSBwcm9taXNlIGZyb20gcG9rZW1vbkFwaVVybFxuICAgICAgY29uc3QganNvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsgLy8gcmVzcG9uc2UgaXMgdGhlbiBjYWxsZWQgd2l0aCAuanNvbigpIG1ldGhvZFxuICAgICAganNvbi5yZXN1bHRzLmZvckVhY2goKGl0ZW0pID0+IHsgLy8gaXRlcmF0ZXMgb3ZlciB0aGUgcmVzdWx0cyBvZiB0aGUganNvblxuICAgICAgICBjb25zdCBwb2tlbW9uID0ge1xuICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSxcbiAgICAgICAgICBkZXRhaWxzVXJsOiBpdGVtLnVybCxcbiAgICAgICAgfTtcbiAgICAgICAgYWRkUG9rZW1vbihwb2tlbW9uKTtcbiAgICAgIH0pO1xuICAgICAgaGlkZUxvYWRpbmdNZXNzYWdlKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgIGhpZGVMb2FkaW5nTWVzc2FnZSgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFBva2Vtb25MaXN0KCkgeyAvLyBnZXRQb2tlbW9uTGlzdCBmdW5jdGlvbiB3aWxsIHJldHVybiB0aGUgYXJyYXkgcG9rZW1vbkxpc3RcbiAgICByZXR1cm4gcG9rZW1vbkxpc3Q7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRQb2tlbW9uVG9MaXN0KHBva2Vtb24pIHtcbiAgICBmZXRjaFBva2Vtb25EZXRhaWxzKHBva2Vtb24pLnRoZW4oKCkgPT4geyAvLyBtdXN0IGxvYWQgcG9rZW1vbmRldGFpbHMgdG8gbG9hZCBpbWdVcmwgb250byBidXR0b25cbiAgICAgIGNvbnN0IGxpc3RJdGVtcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7IC8vIGNyZWF0aW5nIGxpIGVsZW1lbnRcbiAgICAgIGxpc3RJdGVtcy5jbGFzc0xpc3QuYWRkKCdsaXN0LWl0ZW1zJyk7XG4gICAgICBsaXN0SXRlbXMuY2xhc3NMaXN0LmFkZCgnZ3JvdXAtbGlzdC1pdGVtJyk7XG5cbiAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpOyAvLyBjcmVhdGluZyBidXR0b24gZWxlbWVudFxuICAgICAgYnV0dG9uLmlubmVyVGV4dCA9IHBva2Vtb24ubmFtZTsgLy8gYnV0dG9uIGhhcyBwb2tlbW9uLm5hbWVcbiAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdidXR0b24tY2xhc3MnKTsgLy8gYWRkZWQgYSBjbGFzcyB0byBidXR0b25cbiAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdidG4nKTtcbiAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtdG9nZ2xlJywgJ21vZGFsJyk7XG4gICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLXRhcmdldCcsICcubW9kYWwnKTtcblxuICAgICAgY29uc3QgcG9rZW1vbkltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgICAgcG9rZW1vbkltZy5zcmMgPSBwb2tlbW9uLmZyb250SW1nVXJsO1xuICAgICAgcG9rZW1vbkltZy5jbGFzc0xpc3QuYWRkKCdidXR0b24tcG9rZW1vbkltZycpO1xuXG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7IC8vIHdoZW4gYnV0dG9uIGlzIGNsaWNrZWQgdGhlIHNob3dEZXRhaWxzKCkgaXMgaW52b2tlZFxuICAgICAgICBzaG93RGV0YWlscyhwb2tlbW9uKTtcbiAgICAgICAgJCgnI2V4YW1wbGVNb2RhbENlbnRlcicpLm1vZGFsKCdzaG93Jyk7XG4gICAgICB9KTtcblxuICAgICAgYnV0dG9uLmFwcGVuZENoaWxkKHBva2Vtb25JbWcpO1xuICAgICAgbGlzdEl0ZW1zLmFwcGVuZENoaWxkKGJ1dHRvbik7XG4gICAgICBwb2tlbW9uTGlzdENvbnRhaW5lci5hcHBlbmRDaGlsZChsaXN0SXRlbXMpO1xuICAgIH0pO1xuICB9XG5cbiAgc2VhcmNoSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgY29uc3Qgc2VhcmNoVmFsdWUgPSBzZWFyY2hJbnB1dC52YWx1ZS50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IGZpbHRlcmVkUG9rZW1vbiA9IHBva2Vtb25MaXN0LmZpbHRlcigocG9rZW1vbikgPT4gcG9rZW1vbi5uYW1lXG4gICAgICAudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hWYWx1ZSkpO1xuICAgIHBva2Vtb25MaXN0Q29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuICAgIGZpbHRlcmVkUG9rZW1vbi5mb3JFYWNoKChwb2tlbW9uKSA9PiBhZGRQb2tlbW9uVG9MaXN0KHBva2Vtb24pKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICBmZXRjaFBva2Vtb25MaXN0LFxuICAgIGFkZFBva2Vtb24sXG4gICAgZmV0Y2hQb2tlbW9uRGV0YWlscyxcbiAgICBnZXRQb2tlbW9uTGlzdCxcbiAgICBzaG93RGV0YWlscyxcbiAgICBhZGRQb2tlbW9uVG9MaXN0LFxuICB9O1xufSkoKTtcblxucG9rZW1vblJlcG9zaXRvcnkuZmV0Y2hQb2tlbW9uTGlzdCgpLnRoZW4oKCkgPT4ge1xuICBjb25zdCBhbGxwb2tlbW9uID0gcG9rZW1vblJlcG9zaXRvcnkuZ2V0UG9rZW1vbkxpc3QoKTtcbiAgYWxscG9rZW1vbi5mb3JFYWNoKChwb2tlbW9uKSA9PiB7XG4gICAgcG9rZW1vblJlcG9zaXRvcnkuYWRkUG9rZW1vblRvTGlzdChwb2tlbW9uKTtcbiAgfSk7XG59KTtcbiJdfQ==
